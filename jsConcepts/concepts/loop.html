<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="that js dude" content="">
    <link rel="shortcut icon" href="../../images/favicon.jpg">

    <title>JS: looping</title>

    <!-- Bootstrap core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/zenburn.css">
    <!-- Custom styles for this template -->
    <style>
      /* Move down content because we have a fixed navbar that is 50px tall */
      body {
        padding-top: 50px;
        padding-bottom: 20px;
      }
      .purpleBold{
        color:purple;        
        font-weight: bold;
      }
      .singInStuff{
        margin-top: 9px;
      }
      #uName{
        margin-top: -7px;
      }
      .toggleContent{
        padding: 10px;
      }
    </style>

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">          
          <a class="navbar-brand" href="../../index.html">That Js Dude</a>
        </div>
        <div class="navbar-collapse collapse singInStuff">          
          <a href='#' class="btn btn-success  navbar-right" id="loginText"> sign in </a>
          <a href="#" class="btn btn-success  navbar-right hide" id="logoutText">log out </a>
          <a href="#" class="navbar-brand navbar-right" id="uName" >Welcome</a>
          <iframe name="myIFrame" id="myIFrame" class="hide"></iframe>
        </div><!--/.navbar-collapse -->
      </div>
    </div>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Fast looping</h1>        
        <h2>10 tricks to run faster loop</h2>
        <p>need to add some junk text here...</p>        
      </div>
    </div>
    <div class="container">
      <!-- Example row of columns -->

      <div class="row center">        
        <!-- <iframe class="videoLink" width="853" height="480" src="//www.youtube.com/embed/2zmUSoVMyRU" frameborder="0" allowfullscreen></iframe>  -->
      </div>
            
      <h3>If you have hard time to follow this video, you can see the content below. Things you will learn-</h3>
       <ol>            
        <li><a href="">Fun with for loop</a></li>
       </ol>
      <h2>Parts of this blog</h2>
      <ul>
        <li>minimum things inside loop</li>
        <li>get dom example</li>
        <li>loop through everything else</li>
      </ul>
<!-- div>h2+p+pre>code -->
    <div>
      <h2>Understanding of a for loop</h2>
      <p>Here is the most innocent for loop that you write everyday.</p>
      <pre><code>
for(var i =0; i&lt;5; i++){
  console.log(i);
}
      </code></pre>
      <p> <strong>Parts of For loop:</strong> You need four semi-colon in your for loop, hence there are four parts of a for loop.</p>
      <pre><code>
for(initiation; iteratingCondition; repeatingExpression){
  repeatingCode
}
      </code></pre>
      <p>Initialization initializes the variable(s). You declare one or more variables to use inside the loop and assign values to them. One important note about this part is it will run only once while executing the for loop. However, iteratingCondition, repeatingExpression and repeatingCode will run every time loop is executed</p>
      <p>Another important note about all the four parts is they optional. This mean you can skip one, more or all of them. However you have to put the semicolons and have to have terminating condition, otherwise your loop will run forever.</p>
      <div>
          <button id = "forLoopBasic" type="button" class="toggleExample btn btn-primary">Show For Loop Skip</button>
          <div id="forLoopBasicExample" class="hide bg-success toggleContent">
            <h2>Skip parts of for loop</h2>
            <p>you can declare as many variable as needed in the initiation condition.</p>
            <p>if you care about <a href="scope.html#hoisting">hoisting</a> and you can declare the variables at the top of your scope and keep initiation empty.</p>
            <pre><code>
var i = 0;

//skip initiation
for(; i &lt; 5; i++){
  console.log(i);
}
            </code></pre>
            <pre><code>
//skip first and second parts
var i = 0;
for( ; ; i++){
  console.log(i);
  if(i == 5) break;
}
          </code></pre>

          <p>you can skip the third statement as well. Make sure u change looping variable otherwise you will run forever</p>
          <pre><code>
var i = 0;
for( ; ; ){
  console.log(i++);
  if(i == 5) break;
}
          </code></pre>
        </div>
      </div>
    </div>
    <div>
      <h2>Calculate length only once</h2>
      <p>If I have to write a for loop to log all the elements of an array, I will write something like the code block as below. In the iterating condition, i have <code>i&lt;a.length</code> and iterating condition is executed every single time loop is executed. hence, length of the array will be calculated every single time. If you run the loop for 1000 times, you will get a performance hit.</p>
      <p><strong>solution:</strong> The solution to this problem is to set the length of the array to a variable in the initiation stage and use that variable in the iteratingCondition. In this approach, you are calculating length of the array only once. </p>
      <pre><code>
var a = [1, 2, 3, 4, 5, ... 10000];

//slower
for(var i =0; i &lt; a.length; i++){
  console.log(a[i])
}

//faster
for(var i = 0, len = a.length; i &lt; len; i++){
  console.log(a[i])
}
      </code></pre>
    </div>
    <div>
      <h2>backward is faster</h2>
      <pre><code>
var a = [0,1,2,3,4,5 ... 10000];

//forward
for(var j = 0; j &lt; 10000; j++){
  console.log(a[j]);
}

//backward
for(var k = 10000; k >= 0; k--){
  console.log(a[k]);
}
      </code></pre>
    </div>
    <div>
      <h2>cache loop function</h2>
      <pre><code>
var arr = [];
for (var i = 0; i &lt; 1000; i++) {
  arr.push([1, 2, 3].map(function (x) { return x * x; }));
}
              </code></pre>
              <pre class="fragment"><code>
var arr = [];
var sq = function (x) { return x * x; };

for (var i = 0; i &lt; 1000; i++) {
  arr.push([1, 2, 3].map(sq));
}
              </code></pre>
    </div>
    <div>
      <h2>filter vs loop</h2>
      <pre><code>
var myArray = [{ name:"Fred", experience: 3 },
               { name:"John", experience: 5 },
               { name:"Toni", experience: 4 },
               { name:"Sara", experience: 2 }];

function byFilter(myArr, num){
    return myArr.filter(function (el) {
        return el.number === num;
    });
}</code></pre>
              <pre class="fragment"><code>
function byForLoop(myArr, num){
    var i, l;
    for (i = 0, l = myArr.length; i &lt; l; i += 1) {
        if (myArr[i].number === num) {
            return [myArr[i]];
        }
     }
     return [];
}</code></pre>
              <a href="http://jsperf.com/array-filter-vs-simple-loop/2">filter vs simple loop</a>
              <ol class="fragment">
                <li>range of elements is set before the first call</li>
                <li>new elements will not be visited</li>
                <li>if elements are changed or deleted, their value would be original</li>
                <li class="fragment"> robustness comes with the expense of overhead</li>
              </ol> 
              <br><br>
              <li class="fragment">also happens for: map, forEach, every, any, etc.</li>                      
              <ol class="fragment">
                <li>for trusted data</li>
                <li>not to have deleted values</li>
                <li>well behaved callbackfn</li>
              </ol>
              <a href="http://monkeyandcrow.com/blog/why_javascripts_filter_is_slow/">why native filter method is slow</a>
    </div>
    <div>
      <h2>for vs for-in</h2>              
              <pre><code>
var myArr = [1, 2, 3, 4, 5, ... ];

//faster
for(var i =0; i&lt;1000; i++){
 console.log(myArr[i]);
}

//than
for(var j in myArr){
  console.log(myArr[j]);
}
              </code></pre>
              <p class="fragment">dont use for-in while traversing on an array <a href="http://jsperf.com/for-vs-forintest">for vs for-in</a></p>
      <div>
          <button id = "forInLoopBasic" type="button" class="toggleExample btn btn-primary">Show for...in Basic</button>
          <div id="forInLoopBasicExample" class="hide bg-success toggleContent">
            <h2>for..in</h2>
            <p>for..in only iterate over all enumerable properties of the object itself and those the object inherits from its constructor's prototype. </p>
            <pre><code>
var myArr = [1,2,3]
myArr['-7'] = -7;
myArr[2.5] =2.5;
myArr['dude'] = 'thatJsDude'

for(var i in myArr){
  console.log(myArr[i]);
}

 = 1
 = 2
 = 3
 = -7
 = 2.5
 = thatJsDude


 //for loop don't read from properties
 for(var i = 0, len = myArr.length; i&lt;len; i++){
  console.log(myArr[i]);
}
 = 1
 = 2
 = 3 
          </code></pre>        
        </div>
      </div>            
    </div>
    <div>
      <h2>for...in could be faster</h2>
<p>if index is not maintined properly for in could be better.</p>
<pre><code>
var myArr = [];
myArr[5] = 5;

for(var i in myArr){
  //iterate only once
}

for(var i =0, len = myArr.length; i&lt;len; i++){
  //iterates 5 times  
}
</code></pre>
    </div>
    <div>
      <h2>reverse while</h2>
              <pre><code>
var myArr = [1,2,3,4,5,6,7,8,9], 
    len = myArr.length,
    i =0;

while (i++ &lt; len) {
  console.log(myArr[i]);
}
              </code></pre>
              <pre class="fragment"><code>
var l = arr.length;

while(l--) {
  someFn(arr[l]);
}
              </code></pre>
              <a href="http://jsperf.com/fastest-array-loops-in-javascript/32">fastest way to traverse array</a>
              <br>
              <a href="https://blogs.oracle.com/greimer/resource/loop-test.html">different looping</a>
    </div>    
    <div>
      <h2>don't access out of scope variable</h2>
      <pre><code>
var a = 10;
function(){
  
  for(var i = 0; i &lt; 10000; i++){
    console.log(a);
  }  
}
      </code></pre>
      <pre><code>
//create a local variable

      </code></pre>
    </div>
    <div>
      <h2>do as little as possible inside loop</h2>
      <pre><code>
//find an example for this
      </code></pre>
    </div>
    <div>
      <h2>document fragment</h2>
      <pre><code>
var list = ['foo', 'bar', 'baz'],
    el, text;
for (var i = 0; i &lt; list.length; i++) {
    el = document.createElement('li');
    text = document.createTextNode(list[i]);
    el.appendChild(text);
    document.body.appendChild(el);
}</code></pre>
              <pre class="fragment"><code>
var fragment = document.createDocumentFragment(),
    list = ['foo', 'bar', 'baz'],
    el, text;
for (var i = 0; i &lt; list.length; i++) {
    el = document.createElement('li');
    text = document.createTextNode(list[i]);
    el.appendChild(text);
    fragment.appendChild(el);
}
document.body.appendChild(fragment);</code></pre>
              <a href="https://developer.mozilla.org/en-US/docs/Web/API/document.createDocumentFragment">createDocumentFragment</a>
    </div>
    <div>
      <h2>summary of looping</h2>
      <ol>
        <li>don't measure length in every iteration</li>
        <li>cache object properties, function used in repeatingCode</li>
        <li>backward for loop is faster than forward</li>
        <li class="fragment">for-in only when iterating over object</li>
        <li class="fragment">on array, reverse while is the fastest</li>
      </ol>
    </div>
<div>
  <h2>for of</h2>
  <p>ES 6 only</p>
  <pre><code>
// add ur code here
  </code></pre>
</div>
<div id="summary">
  <h2> Summary</h2>
  <ul>
    <li>Don't measure length in every iteration</li>
    <li>catche object properties, function used in repeating code</li>
    <li>backward for loop is faster than forward</li>
    <li>for-in only when iterating over object</li>
    <li>on array, reverse while is the fastest</li>
  </ul>
</div>


      <hr>

      <footer>
        <p>&copy;thatJSDude <script type="text/javascript">document.write(new Date().getFullYear());</script></p>
      </footer>
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../js/jquery-2.0.3.min.js"></script>
    <script src="../../js/jquery.fitvids.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/oAuth/googleOAuth.js"></script>
    <script src="../../js/oAuth/cookieManager.js"></script>
    <script src="../../js/oAuth/managerLogin.js"></script>
    <script src="../../js/toggleExample.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
  </body>
</html>
